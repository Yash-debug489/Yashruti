<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Safe SpaceðŸŒ¸</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      margin: 0;
      font-family: 'Poppins', cursive;
      background: linear-gradient(#fff0f5, #fde2eb);
      overflow-x: hidden;
      color: #444;
    }

    .container {
      padding: 30px 20px 100px;
      max-width: 420px;
      margin: auto;
    }

    h2 {
      text-align: center;
      color: #ff6fae;
      font-size: 1.8rem;
      margin-bottom: 10px;
    }

    .soft-text {
      text-align: center;
      font-size: 1rem;
      margin-bottom: 25px;
      color: #666;
    }

    .card {
      background: #ffe4ef;
      border-radius: 22px;
      padding: 20px;
      margin-bottom: 25px;
      box-shadow: 0 8px 20px rgba(255,150,180,0.25);
    }

    .divider {
      text-align: center;
      margin: 25px 0;
    }

    .divider img {
      width: 60px;
      opacity: 0.7;
    }

    button {
      background: #ff78a8;
      border: none;
      border-radius: 30px;
      padding: 12px 22px;
      color: white;
      font-size: 0.95rem;
      cursor: pointer;
      margin-top: 10px;
    }

    button:hover {
      background: #ff5f9b;
    }

    textarea {
      width: 100%;
      height: 90px;
      border-radius: 15px;
      border: none;
      padding: 12px;
      font-family: inherit;
      resize: none;
    }

    canvas {
      border-radius: 15px;
      background: #fff;
      margin-top: 10px;
      touch-action: none;
    }

    a {
      text-decoration: none;
    }
  </style>
</head>

<body>

<div class="container">

  <h2>Iâ€™m here with you ðŸŒ·</h2>
  <p class="soft-text"></p>

  <div class="card">
    <p id="affirmation">Itâ€™s okay to feel like this.</p>
    <button onclick="newAffirmation()">Touch me for some words</button>
  </div>

  <!-- divider -->
  <div class="divider">
    <img src="assets/heart.png">
  </div>

  <div class="card">
    <p style="text-align:center;">
      Which subject made you cry this week?
    </p>

    <div style="display:flex; flex-wrap:wrap; gap:10px; justify-content:center;">
      <button onclick="showSubject('phy')">Physics</button>
      <button onclick="showSubject('chem')">Chemistry</button>
      <button onclick="showSubject('zoo')">Zoology</button>
      <button onclick="showSubject('bot')">Botany</button>
    </div>

    <img id="subjectImage"
         style="display:none; margin-top:15px; width:100%; border-radius:18px;"
         alt="comfort image">
  </div>

  <!-- divider -->
  <div class="divider">
    <img src="assets/star.png">
  </div>

  <div class="card">
    <p>Write whatever u fell or want to dump...don't worry i can't read them,it's not stored</p>
    <textarea id="thoughtBox" placeholder="Let gooâ€¦"></textarea>
    <button onclick="burn()">Burn itðŸ”¥</button>
  </div>

  <!-- divider -->
  <div class="divider">
    <img src="assets/cloud.png">
  </div>

  <div class="card">
    <p>Draw anything u want.</p>
    <canvas id="pad" width="300" height="180"></canvas><br>
    <button onclick="clearPad()">Clear</button>
  </div>

  <div class="card" style="text-align:center;">
    <p>
      I u still feel heavy...
    </p>
    <a href="letter.html">
      <button>Open ðŸ’Œ</button>
    </a>
  </div>

</div>

<script>
  const affirmations = [
    "Itâ€™s okay if u feel tired,or overwhelmed",
    "You donâ€™t have to be strong right now.",
    "I know family pressure is high, but ur my strong miss-izzz naa",
    "Iâ€™m here. ur not alone.",
    "Ur allowed to rest.",
    "Ull feel recharged and motivated again..if ur feeling heavy this feeling will pass",
    "Im proud of u and ur mehnat ",
    "This stress will go to..im with u",
    "You are enough, exactly as you are."
  ];

  function newAffirmation() {
    document.getElementById("affirmation").innerText =
      affirmations[Math.floor(Math.random() * affirmations.length)];
  }

  function burn() {
    document.getElementById("thoughtBox").value = "";
  }

  function showSubject(sub) {
    const img = document.getElementById("subjectImage");
    const images = {
      phy: "assets/phy.png",
      chem: "assets/chem.png",
      zoo: "assets/zoo.png",
      bot: "assets/bot.png"
    };
    img.src = images[sub];
    img.style.display = "block";
  }

  const canvas = document.getElementById("pad");
  const ctx = canvas.getContext("2d");
  let drawing = false;

  function getPos(e) {
    const rect = canvas.getBoundingClientRect();
    const touch = e.touches ? e.touches[0] : e;
    return {
      x: touch.clientX - rect.left,
      y: touch.clientY - rect.top
    };
  }

  function startDraw(e) {
    drawing = true;
    drawPoint(e);
  }

  function endDraw() {
    drawing = false;
  }

  function drawPoint(e) {
    if (!drawing) return;
    const pos = getPos(e);
    ctx.fillStyle = "#ff8bb8";
    ctx.beginPath();
    ctx.arc(pos.x, pos.y, 4, 0, Math.PI * 2);
    ctx.fill();
  }

  canvas.addEventListener("mousedown", startDraw);
  canvas.addEventListener("mouseup", endDraw);
  canvas.addEventListener("mousemove", drawPoint);

  canvas.addEventListener("touchstart", startDraw);
  canvas.addEventListener("touchend", endDraw);
  canvas.addEventListener("touchmove", e => {
    e.preventDefault();
    drawPoint(e);
  });

  function clearPad() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
  }
</script>

</body>
</html>
